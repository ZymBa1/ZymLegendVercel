<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>ZymLegend Online</title>
  <link rel="stylesheet" href="style.css">
  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <!-- Главное меню -->
  <div id="menu">
    <h1>ZymLegend 🌍</h1>
    <button onclick="showScreen('servers')">🌐 Онлайн</button>
    <button onclick="startOffline()">🎮 Оффлайн</button>
    <button onclick="showScreen('settings')">⚙️ Настройки</button>
    <button onclick="showScreen('accounts')">👤 Аккаунты</button>
    <button onclick="showScreen('skins')">🖌 Скины</button>
  </div>

  <!-- Сервера -->
  <div id="servers" class="hidden">
    <h2>Сервера</h2>
    <ul id="serverList"></ul>
    <button onclick="addServer()">➕ Добавить сервер</button>
    <button onclick="showScreen('menu')">⬅ Назад</button>
  </div>

  <!-- Настройки -->
  <div id="settings" class="hidden">
    <h2>Настройки</h2>
    <label>Фон:
      <select id="bgColorSelect" onchange="changeBgColor()">
        <option value="#111">Черный</option>
        <option value="#013220">Зеленый</option>
        <option value="#001f3f">Синий</option>
      </select>
    </label><br>
    <button onclick="toggleJoystick()">🎮 Джойстик Вкл/Выкл</button>
    <button onclick="editControls()">🕹 Редактировать управление</button>
    <button onclick="showScreen('menu')">⬅ Назад</button>
  </div>

  <!-- Аккаунты -->
  <div id="accounts" class="hidden">
    <h2>Аккаунты</h2>
    <button onclick="loginTelegram()">Войти через Telegram</button>
    <button onclick="loginGoogle()">Войти через Google</button>
    <button onclick="loginFacebook()">Войти через Facebook</button>
    <button onclick="loginZL()">Войти через ZLAccount</button>
    <div id="accountInfo"></div>
    <button onclick="logoutAll()">🚪 Выйти</button>
    <button onclick="showScreen('menu')">⬅ Назад</button>
  </div>

  <!-- Скины -->
  <div id="skins" class="hidden">
    <h2>Скины</h2>
    <button onclick="changeSkin('green')">🟢 Спецназ</button>
    <button onclick="changeSkin('red')">🔴 Террорист</button>
    <button onclick="showScreen('menu')">⬅ Назад</button>
  </div>

  <!-- Игра -->
  <div id="game" class="hidden">
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div id="hud">
      <span id="hp">HP: 100</span>
      <span id="xp">XP: 0</span>
    </div>
    <button id="exitBtn" onclick="exitGame()">🏠 Меню</button>
  </div>

  <script src="game.js"></script>
</body>
</html>
